<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>User Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
    <style>
        body {
    font-family: 'Arial', sans-serif;
    background-color: #f8f3e3; /* Adjust to match your exact color */
}

header {
    /* Style your header with navigation and logo here */
}

.post {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin: 40px auto; /* Centers the post */
    padding: 15px;
    width: 100%; /* Makes the post responsive */
    max-width: 600px; /* Adjust this value to control the maximum width */
    box-sizing: border-box; /* Ensures padding is included in width */
}

.post-header,
.song-card,
.post-footer {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.post-header {
    justify-content: space-between;
}

.user-avatar {
    border-radius: 50%;
    margin-right: 10px;
}

.song-card {
    border: 1px solid #ccc;
    padding: 10px;
}

.album-art {
    margin-right: 10px;
    width: 100px; /* Adjust as needed */
    height: 100px; /* Adjust as needed */
    object-fit: cover;
}

.post-footer {
    font-size: 14px;
}

.like-icon, .comment-icon {
    margin-right: 5px;
    cursor: pointer;
}




    </style>
    <body>
       
        <!-- Navbar START -->
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #DEA47E;">
            <a class="navbar-brand" href="#">Tune Tribe</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                
                        <a class="nav-link" style="color: black;" th:href="@{/user/myProfile={username}(username=${currentUser})}">My Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/search-users" style="color: black;">Search Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/search-songs" style="color: black;">Search Songs</a>
                    </li>
                </ul>
                <!-- Logout Button -->
                <form class="form-inline" th:action="@{/logout}" method="post">
                    <button class="btn btn-outline-light my-2 my-sm-0" type="submit"  style="background-color: lightblue; border: none; outline: none; color: white;">Log Out</button>
                </form>
            </div>
        </nav>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
                crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
                crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
                crossorigin="anonymous"></script>
        <!-- Navbar END -->
    
        <h5>
            <p style="text-align: center;">Welcome to Tune Tribe <a th:text="${currentUser}"></p></p>      
        </h5>

        <!--POST LIST START-->
        <div th:each="post : ${postList}" class="post">
            <div class="post-header">
                <!--<img class="user-avatar" src="avatar_url.jpg" alt="User Avatar">-->
                <div>
                    <div class="username" th:text=" ${post.username}"></div>
                    <div class="post-date" th:text=" ${post.PostDate}"></div>
                </div>
                <div class="post-options">...</div>
            </div>
            <div class="post-caption" th:text=" ${post.caption}"></div>
            <div class="song-card">
                <img class="album-art" th:src="${songMap[post.songId].coverUrl}" alt="Album Art">
                <div class="song-details">
                    <div class="song-name" th:text="${songMap[post.songId].name}"></div>
                    <div class="artist-name" th:text="${songMap[post.songId].artist}"></div>
                    <!-- Audio controls would go here -->
                </div>
            </div>
            <div class="post-footer">
                <div class="like-counter">
                    <span class="like-icon">â™¥</span>
                    <span th:text=" ${post.likeCount}"></span>
                </div>
                
                <div class="comment-counter">
                    <span class="comment-icon">ðŸ’¬</span>
                    <span>1</span>
                </div>
            </div>
        </div>
        <!--POST LIST END-->
        

        
        
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </body>
</html>
